<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>
        Сравнение открытых OLAP-систем<br>
        Big Data: ClickHouse, Druid и Pinot
    </h1>
    <p>
        Оригинал - https://medium.com/@leventov/comparison-of-the-open-source-olap-systems-<br>
        for-big-data-clickhouse-druid-and-pinot-8e042a5ed1c7
    </p>
    <p>
        <a href="#">ClickHouse</a>, <a href="#">Druid</a> и <a href="#">Pinot</a> – три открытых хранилища данных, которые позволяют
        выполнять<br>аналитические запросы на больших объемах данных с интерактивными<br> 
        задержками. Эта статья - перевод <a href="#"><b>подробного сравнения</b></a>, выполненного Романом<br>
        Левентовым.
    </p>

    <h2>
        Источники информации
    </h2>
    <p>
        Подробности реализации <b>ClickHouse</b> стали мне известны от <a href="#">Алексея Зателепина</a>,<br>
        одного из <b>ключевых разработчиков проекта</b>. Доступная на английском<br>
        документация достаточно скудна – наилучшим источником информации служат<br>
        последние четыре секции <a href="#">данной страницы документации</a>.
    </p>
    <p>
        <b>Я сам участвую в развитии Druid</b>, но у меня нет личной заинтересованности в этой<br>
        системе - по правде говоря, скорее всего в ближайшее время я перестану заниматься<br>
        её разработкой. Поэтому читатели могут рассчитывать на отсутствие какой-либо<br>
        предвзятости.
    </p>
    <p>
        Всё, что я буду далее писать про <b>Pinot</b>, основывается на странице <a href="#">Архитектура в вики<br>
            Pinot   </a>, а также на других страницах вики в разделе “Проектная документация”.<br>
        Последний раз они обновлялись в июне 2017 года - больше, чем полгода назад.
    </p>
    <p>
        Рецензентами оригинальной статьи стали Алексей Зателепин и <a href="#">Виталий Людвиченко</a><br>
        (разработчики ClickHouse), <a href="#">Жан Мерлино</a> (самый активный разработчик Druid),<a href=""> Кишор<br> Гопалакришна </a> (архитектор Pinot) и <a href="#">Жан-Француа Им</a>(разработчик Pinot). Мы<br>
        присоединяемся к благодарности автора и полагаем, что это многократно повышает<br>
        авторитетность статьи.
    </p>
    <p>
        <b>Предупреждение:</b> статья достаточно большая, поэтому вполне возможно вы захотите
        ограничиться прочтением раздела “Заключение” в конце.
    </p>

    <h2>Сходства между системами</h2>
    <h3>Связанные данные и вычисления</h3>
    <p>
        <b>На фундаментальном уровне, ClickHouse, Druid и Pinot похожи</b>, поскольку они<br>
        хранят данные и выполняют обработку запросов на одних и тех же узлах, уходя от<br>
        “разъединенной” архитектуры BigQuery. Недавно я уже описывал несколько<br>
        наследственных проблем со связанной архитектурой в случае Druid [<a href="#">1</a>, <a href="">2</a>]. Открытого<br>
        эквивалента для BigQuery на данный момент не существует (за исключением, разве<br>
        что, <a href="#">Drill</a>?) Возможным подходам к построению подобных открытых систем посвящена<br>
        <a href="#">другая статье в моем блоге </a>.
    </p>
    <h3>
        Отличия от Big Data SQL-систем: индексы и статическое
        распределение данных
    </h3>
    <p>
        Рассматриваемые в этой статье системы <b>выполняют запросы быстрее</b>, чем<br>
        системы Big Data из семейства класса SQL-on-Hadoop: Hive, Impala, Presto и Spark,<br>
        даже когда последние получают доступ к данным, хранящимся в колоночном формате<br>
        - к примеру, Parquet или Kudu. Это происходит потому, что в ClickHouse, Druid и Pinot:
    </p>
    <ul>
        <li>Имеется <b>свой собственный формат для хранения данных с индексами</b>, и<br>
            они тесно интегрированы с движками обработки запросов. Системы класса<br>
            SQL-on-Hadoop обычно можно назвать агностиками относительно форматов<br>
            данных и поэтому они менее “навязчивы” в бэкендах Big Data.</li>

        <li><b>Данные распределены относительно “статично”</b> между узлами, и при<br>
            распределенном выполнении запроса это можно использовать. Обратная<br>
            сторона медали при этом в том, что ClickHouse, Druid и Pinot <b>не поддерживают<br>
                запросы, которые требуют перемещения большого количества данных</b><br>
            между узлами - к примеру, join между двумя большими таблицами.</li>
    </ul>
    <h3>Отсутствие точечных обновлений и удалений</h3>
    <p>Находясь на другой стороне спектра баз данных, ClickHouse, Druid и Pinot <b>не<br>
        поддерживают точечные обновления и удаления</b>, в противоположность<br>
        колоночным системам вроде Kudu, InfluxDB и Vertica (?). Это даёт ClickHouse, Druid и<br>
        Pinot возможность производить более эффективное колоночное сжатие и более<br>
        агрессивные индексы, что означает большую <b>эффективность использования<br>
        ресурсов</b> и быстрое выполнение запросов.
    </p>
    <p>
        Разработчики ClickHouse в Yandex планируют начать поддерживать <a href="#">обновления и<br>
        удаления в будущем</a>, но я не уверен, будут ли это “настоящие” точечные запросы или<br>
        удаления диапазонов данных.
    </p>

    <h2>Поглощение в стиле Big Data</h2>
    <p>Все три системы поддерживают потоковое поглощение данных из Kafka. Druid и Pinot поддерживают потоковую передачу данных стриминг в <a href="#">Лямбда-стиле</a> и пакетное поглощение одних и тех же данных. ClickHouse поддерживает пакетные вставки напрямую, поэтому ему не требуется отдельная система пакетного поглощения подобная той, что используется в Druid и Pinot. Если вас интересуют подробности, то их вы сможете найти далее.</p>

    <h2>Проверено на крупном масштабе</h2>
    <p>Все три системы проверены на работоспособность в крупных масштабах: <a href="#">в Yandex.Metrica работает кластер ClickHouse</a>, состоящий из примерно десятка тысяч ядер CPU. В Metamarkets используется <a href="#">кластер Druid аналогичного размера</a>. Один кластер Pinot в LinkedIn включает в себя “<a href="#">тысячи машин</a>”.</p>

    

    
</body>
</html>